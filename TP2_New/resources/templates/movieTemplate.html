<div class="row">
    <div class="col-xs-8 col-xs-offset-2">
        <div class="row">
            <div id="colInfo" class="col-xs-12 col-sm-12">
                <h3><%= movie.trackName %></h3>
                <hr>
                <div class="col-xs-12 col-sm-4" id="colImg">
                    <img src=" <%= movie.artworkUrl100 %> ">
                    <h4> Gender : <span class="label label-default"><%= movie.primaryGenreName %></span> </h4>
                    <h4> Year : <span class="label label-default"><%= movie.releaseDate.substring(0,4) %></span> </h4>
                    <h4> Duration : <span class="label label-default"><%= (( movie.trackTimeMillis / 1000 ) / 60).toString().substring(0,3) %></span> </h4>
                    <h4> PG : <span class="label label-default"><%= movie.contentAdvisoryRating %></span> </h4>
                </div>
                <div class="col-xs-12 col-sm-8">
                    <input type="hidden" id="id_movie" value="<%= movie.trackId %>">
                    <p><%= movie.longDescription %></p>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Modal -->
<div class="modal fade bs-example-modal-sm" id="myModal-movie" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Manager mes films</h4>
            </div>
            <div class="modal-body">
                Vous allez être redirigé vers la page de gestion des watchlists
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-vert">Go</button>
            </div>
        </div>
    </div>
</div>
<script type="application/javascript">
        $.get('http://localhost:3000/unsecure/watchlists',function( data ) {
            $('#colInfo h3').append('<span class="glyphicon glyphicon-plus glyph-watchlist" id="glyph-watchlist-ajouter"></span>');
            id = $('#id_movie').val();
            //Pour chaque Watchlist
            for (i = 0; i < data.length; i++) {
                for (j = 0; j < data[i].movies.length; j++) {
                    if(parseInt(data[i].movies[j].trackId) == parseInt(id) ){
                        $('.glyph-watchlist').remove();
                        $('#colInfo h3').append('<span class="glyphicon glyphicon-ok glyph-watchlist" id="glyph-watchlist-present"></span>');
                    }
                }
            }
        });
        $(document).ready(function(){
            $('body').delegate('#glyph-watchlist-present','click',function(){
                $('#myModal-movie').modal('show');
                $('.modal').css('display','block');
            });
        });

</script>

<div id="buttons">
    <label> <input id="query" value='cats' type="text"/><button id="search-button" disabled onclick="search()">Search</button></label>
</div>
<div id="search-container">
</div>

<script src="resources/js/search.js"></script>
<script src="https://apis.google.com/js/client.js?onload=handleAPILoaded"></script>

<style type="text/css">

    #colImg{
        text-align: center;
        margin-bottom: 10px;
    }
    #colImg h4{text-align: left;}
    #colImg img{margin-bottom: 10px;}

    #colInfo{
        text-align: justify;
        background-color: rgba(20, 20, 20, 0.50);
        color: #FFFFFF;
        font-family: 'Roboto', sans-serif;
        font-weight: 100;
        font-size: 18px;

        -webkit-box-shadow: 0px 2px 5px 0px rgba(0,0,0,0.5);
        -moz-box-shadow: 0px 2px 5px 0px rgba(0,0,0,0.5);
        box-shadow: 0px 2px 5px 0px rgba(0,0,0,0.5);

        -webkit-border-radius: 20px;
        -moz-border-radius: 20px;
        border-radius: 20px;
    }
    .gap-right {
        margin-right: 30px;
    }
    .glyph-watchlist{
        display: block;
        float: right;
        cursor:pointer;
    }
    .glyph-watchlist:hover{
        color:#16A79D;
    }
    #glyph-watchlist-present{color:#16A79D;}
    #glyph-watchlist-present:hover{color:#fff;}
    .btn-vert{background-color: #16A79D; color:white;}
    .modal{color:black;}

</style>

